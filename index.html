<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>néo Radar DMR 2025</title>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
:root{--blue:#2563eb;--blue-dk:#1e40af;--green:#10b981;--green-dk:#059669;--orange:#f59e0b;--red:#ef4444;--red-dk:#dc2626;--bg:#f0f4f8;--card:#fff;--ink:#1f2937;--gray:#9ca3af;--shadow:0 2px 10px rgba(0,0,0,.08)}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--ink);overflow:hidden}
.app{display:grid;grid-template-columns:200px 1fr;grid-template-rows:60px 50px calc(100vh - 110px)}
.side{grid-row:1/span 3;background:linear-gradient(180deg,#f9fafb 0%,#e5e7eb 100%);border-right:2px solid #d1d5db;padding:14px;display:flex;flex-direction:column;gap:8px}
.logo{font-weight:900;font-size:20px;color:var(--blue);margin-bottom:8px}
.logo .radar{color:var(--green)}
.badge{background:linear-gradient(135deg,var(--blue),var(--green));color:#fff;border-radius:20px;padding:3px 10px;font-weight:900;font-size:11px;display:inline-block}
.stitle{font-size:10px;font-weight:900;color:#6b7280;margin-top:8px;letter-spacing:.8px}
.sbtn{all:unset;display:block;padding:11px;border-radius:8px;font-weight:800;cursor:pointer;font-size:14px;transition:.2s;border-left:3px solid transparent}
.sbtn:hover{background:#e0f2fe;color:var(--blue)}
.sbtn.active{background:linear-gradient(90deg,#dbeafe,#d1fae5);color:var(--blue);border-left:3px solid var(--green);font-weight:900}
.top{grid-column:2;height:60px;display:flex;align-items:center;justify-content:space-between;padding:0 20px;background:linear-gradient(135deg,var(--blue),var(--blue-dk));color:#fff;box-shadow:var(--shadow)}
.top .brand{font-size:20px;font-weight:900}
.bar{grid-column:2;background:#fff;border-bottom:2px solid #e5e7eb;display:flex;align-items:center;gap:10px;padding:0 20px}
.filter{display:flex;align-items:center;gap:6px;background:#f3f4f6;border:1px solid #d1d5db;padding:5px 10px;border-radius:8px;color:#6b7280;font-weight:800;font-size:13px}
.filter .v{color:#374151;font-weight:900}
.disabled{pointer-events:none;opacity:.75}
.reset{margin-left:auto;background:#d1d5db;color:#374151;border:none;padding:6px 12px;border-radius:8px;font-weight:900;font-size:13px}
.canvas{grid-column:2;padding:12px;overflow:auto}
.section{display:none}
.section.active{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px;align-content:start}
.card{background:var(--card);border-radius:10px;box-shadow:var(--shadow);padding:16px;display:flex;flex-direction:column;gap:10px;border:1px solid #e5e7eb}
.title{font-size:10px;font-weight:900;letter-spacing:.7px;text-transform:uppercase;color:#6b7280}
.kpi{display:flex;align-items:baseline;gap:10px;flex-wrap:wrap}
.val{font-size:40px;font-weight:900;color:var(--blue)}
.val.green{color:var(--green)}.val.orange{color:var(--orange)}.val.red{color:var(--red)}
.sub{color:#6b7280;font-weight:800;font-size:16px}
.evo{font-weight:900;font-size:14px}
.evo.up{color:var(--green)}.evo.down{color:var(--red)}
.prev{color:var(--gray);font-size:12px;font-weight:700}
.chip{background:linear-gradient(135deg,var(--blue),var(--green));color:#fff;border-radius:8px;padding:5px 10px;font-weight:900;font-size:11px;display:inline-block}
.click{cursor:pointer}
.click:hover{box-shadow:0 4px 14px rgba(37,99,235,.3);transform:translateY(-2px);transition:.2s}
.donut{width:180px;height:180px;border-radius:50%;background:conic-gradient(var(--blue) 0 35%,var(--green) 35% 77%,var(--orange) 77% 100%);position:relative;flex-shrink:0}
.hole{position:absolute;inset:40px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:24px;color:var(--ink)}
.legend{display:flex;flex-direction:column;gap:10px}
.leg{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px;border-radius:8px;cursor:pointer;background:#f9fafb;border:1px solid #e5e7eb;transition:.2s}
.leg:hover{background:#dbeafe;border-color:var(--blue)}
.lc{width:14px;height:14px;border-radius:3px}
.lv{font-weight:900;font-size:16px;color:var(--ink)}
.pbar{height:12px;background:#e5e7eb;border-radius:999px;overflow:hidden;position:relative}
.pfill{height:100%;background:linear-gradient(90deg,var(--green),var(--green-dk));border-radius:999px}
.mini{font-size:11px;font-weight:800;color:#6b7280}
.ov{position:fixed;inset:0;background:rgba(31,41,55,.5);display:none;align-items:center;justify-content:center;z-index:50;cursor:pointer}
.ov.show{display:flex}
.panel{background:#fff;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,.3);padding:24px;width:560px;max-height:80vh;overflow:auto;cursor:default}
.list{width:920px}
.head{display:flex;align-items:center;gap:12px;margin-bottom:14px}
.head h3{margin:0;font-size:19px;font-weight:900}
.close{margin-left:auto;all:unset;background:linear-gradient(135deg,var(--blue),var(--green));color:#fff;padding:6px 14px;border-radius:8px;font-weight:900;cursor:pointer;font-size:13px}
table{width:100%;border-collapse:collapse;font-size:13px}
th,td{padding:10px;border-bottom:1px solid #e5e7eb;text-align:left}
tr:hover{background:#f9fafb}
.tip{position:fixed;display:none;background:#1f2937;color:#fff;padding:10px 12px;border-radius:8px;font-size:11px;max-width:320px;z-index:200;white-space:pre-wrap;box-shadow:0 4px 14px rgba(0,0,0,.4)}
.big{grid-column:1/-1}
.sec-title{font-size:13px;font-weight:900;color:var(--blue);margin:10px 0 8px 0;padding:8px 12px;background:linear-gradient(90deg,#dbeafe,#d1fae5);border-radius:8px;border-left:4px solid var(--green)}
@media(max-width:768px){.app{grid-template-columns:1fr;grid-template-rows:60px 50px auto}.side{display:none}.canvas{padding:8px}.section.active{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="app">
<aside class="side">
<div class="logo">néo<span class="radar">Radar</span> <span class="badge">DMR</span></div>
<div class="stitle">RUBRIQUES</div>
<button class="sbtn active" onclick="showSection('synthese')">Synthèse</button>
<button class="sbtn" onclick="showSection('comptes')">Qualité comptes</button>
<button class="sbtn" onclick="showSection('contacts')">Qualité contacts</button>
<button class="sbtn" onclick="showSection('vitalite')">Vitalité</button>
</aside>
<header class="top">
<div class="brand">néo<span style="color:#10b981">Radar</span> DMR</div>
<div id="today"></div>
</header>
<div class="bar">
<div class="filter disabled">Année <span class="v">2025</span></div>
<div class="filter disabled">Département <span class="v">Tous</span></div>
<div class="filter disabled">Réseau <span class="v">Tous</span></div>
<button class="reset disabled">Réinitialiser</button>
</div>
<div class="canvas">
<div id="synthese" class="section active">
<div class="card big click" onclick="openScore()">
<div class="title">Score qualité NEO DMR</div>
<div class="kpi"><div class="val green">67</div><div class="sub">/ 100</div></div>
<div class="evo up">+9 pts vs 2024</div>
<div class="mini">Cliquer pour détails</div>
</div>
<div class="card click" onclick="openList('actifs')">
<div class="title">Comptes actifs</div>
<div class="kpi"><div class="val">1000</div><div class="evo up">+5%</div></div>
<div class="prev">2024: 952</div>
</div>
<div class="card click" onclick="openList('q_yes')">
<div class="title">Qualifiés 100%</div>
<div class="kpi"><div class="val">620</div><div class="sub">62%</div></div>
<div class="prev">2024: 580 (61%)</div>
</div>
<div class="card click" onclick="openList('dormants')">
<div class="title">Dormants</div>
<div class="kpi"><div class="val orange">180</div><div class="sub">18%</div></div>
<div class="prev">2024: 192 (20%)</div>
</div>
<div class="card click" onclick="openList('doublons')">
<div class="title">Doublons (SIRET+CP)</div>
<div class="kpi"><div class="val red">35</div><div class="sub">3,5%</div></div>
<div class="prev">2024: 47 (4,9%)</div>
</div>
<div class="card big">
<div class="title">Ventilation par typologie</div>
<div style="display:flex;gap:18px;align-items:center;flex-wrap:wrap">
<div class="donut"><div class="hole">1000</div></div>
<div class="legend" style="flex:1">
<div class="leg click" onclick="openList('MOA')"><div class="lc" style="background:var(--blue)"></div><div style="flex:1;font-weight:900">Maîtrise d'ouvrage</div><div class="lv">350 <span style="color:#6b7280;font-size:14px">(35%)</span></div></div>
<div class="leg click" onclick="openList('BET')"><div class="lc" style="background:var(--green)"></div><div style="flex:1;font-weight:900">Bureaux d'études</div><div class="lv">420 <span style="color:#6b7280;font-size:14px">(42%)</span></div></div>
<div class="leg click" onclick="openList('CMI')"><div class="lc" style="background:var(--orange)"></div><div style="flex:1;font-weight:900">CMI</div><div class="lv">230 <span style="color:#6b7280;font-size:14px">(23%)</span></div></div>
</div>
</div>
</div>
</div>
<div id="comptes" class="section">
<div class="card big click" onclick="openList('actifs')">
<div class="title">Comptes actifs</div>
<div class="kpi"><div class="val">1000</div><div class="evo up">+5%</div></div>
<div class="prev">2024: 952</div>
<div class="title" style="margin-top:10px">Mix créateurs</div>
<div style="display:flex;gap:8px;flex-wrap:wrap"><span class="chip">RPRC 45%</span><span class="chip">RPRCI 38%</span><span class="chip">IT 17%</span></div>
</div>
<div class="card">
<div class="title">Adresse renseignée</div>
<div class="kpi"><div class="val">87%</div></div>
<div class="pbar"><div class="pfill" style="width:87%"></div></div>
<div class="mini">Anomalies: <b>42</b> <span class="click" style="color:var(--blue);text-decoration:underline" onclick="openList('an_addr')">Voir</span></div>
</div>
<div class="card">
<div class="title">Nature renseignée</div>
<div class="kpi"><div class="val">91%</div></div>
<div class="pbar"><div class="pfill" style="width:91%"></div></div>
<div class="mini">Manquante: <b>28</b></div>
</div>
<div class="card">
<div class="title">Type renseigné</div>
<div class="kpi"><div class="val">93%</div></div>
<div class="pbar"><div class="pfill" style="width:93%"></div></div>
<div class="mini">Manquant: <b>22</b></div>
</div>
<div class="card">
<div class="title">SIRET renseigné</div>
<div class="kpi"><div class="val orange">78%</div></div>
<div class="pbar"><div class="pfill" style="width:78%;background:linear-gradient(90deg,var(--orange),#d97706)"></div></div>
<div class="mini">Invalide: <b>28</b></div>
</div>
<div class="card">
<div class="title">Indice proximité (IP)</div>
<div class="kpi"><div class="val orange">72%</div></div>
<div class="pbar"><div class="pfill" style="width:72%;background:linear-gradient(90deg,var(--orange),#d97706)"></div></div>
</div>
<div class="card click" onclick="openList('animes')">
<div class="title">Comptes animés (12m)</div>
<div class="kpi"><div class="val">580</div><div class="sub">58%</div></div>
</div>
<div class="card">
<div class="title">Durée moy. MAJ</div>
<div class="kpi"><div class="val orange">8.5</div><div class="sub">mois</div></div>
<div class="mini">Sur comptes actifs</div>
</div>
</div>
<div id="contacts" class="section">
<div class="card big click" onclick="openList('contacts_actifs')">
<div class="title">Contacts actifs</div>
<div class="kpi"><div class="val">3200</div><div class="evo up">+9%</div></div>
<div class="prev">2024: 2936</div>
</div>
<div class="card">
<div class="title">Email renseigné</div>
<div class="kpi"><div class="val">88%</div></div>
<div class="sub">2816/3200</div>
</div>
<div class="card">
<div class="title">Mobile renseigné</div>
<div class="kpi"><div class="val orange">74%</div></div>
<div class="sub">2368/3200</div>
</div>
<div class="card">
<div class="title">Fonction renseignée</div>
<div class="kpi"><div class="val orange">68%</div></div>
<div class="sub">2176/3200</div>
</div>
<div class="card big">
<div class="title">Contacts multi-comptes</div>
<div class="kpi"><div class="val orange">5%</div><div class="sub">160 contacts</div></div>
<div class="mini">Rattachés à 2+ comptes</div>
</div>
</div>
<div id="vitalite" class="section">
<div class="sec-title">COMPTES (12 mois)</div>
<div class="card">
<div class="title">Nouveaux comptes</div>
<div class="kpi"><div class="val green">120</div></div>
</div>
<div class="card">
<div class="title">Comptes désactivés</div>
<div class="kpi"><div class="val red">40</div></div>
</div>
<div class="sec-title">CONTACTS (12 mois)</div>
<div class="card">
<div class="title">Nouveaux contacts</div>
<div class="kpi"><div class="val green">450</div></div>
</div>
<div class="card">
<div class="title">Contacts désactivés</div>
<div class="kpi"><div class="val red">280</div></div>
</div>
<div class="card big">
<div class="title">Balance 12 mois</div>
<div style="display:flex;gap:14px;margin-top:12px;flex-wrap:wrap">
<div style="flex:1;min-width:200px;background:#d1fae5;padding:16px;border-radius:10px;border:2px solid var(--green)"><div style="font-weight:900;margin-bottom:8px;color:#065f46">Entrées <span style="color:var(--green);font-size:20px">(+720)</span></div><div class="mini">120 Nvx comptes</div><div class="mini">600 Comptes MAJ</div></div>
<div style="flex:1;min-width:200px;background:#fee2e2;padding:16px;border-radius:10px;border:2px solid var(--red)"><div style="font-weight:900;margin-bottom:8px;color:#991b1b">Sorties <span style="color:var(--red);font-size:20px">(-120)</span></div><div class="mini">40 Désactivés</div><div class="mini">80 Nvx dormants</div></div>
<div style="flex:1;min-width:200px;text-align:center;background:linear-gradient(135deg,var(--green),var(--green-dk));color:#fff;padding:16px;border-radius:10px;box-shadow:0 4px 14px rgba(16,185,129,.4)"><div style="font-weight:900;opacity:.95;font-size:14px">BALANCE</div><div class="val" style="color:#fff;font-size:48px">+600</div><div class="mini" style="opacity:.95;color:#e6fffb">Base en croissance</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="ov" id="ovScore" onclick="event.target===this && hide('ovScore')">
<div class="panel">
<div class="head"><h3>Score 67/100</h3><button class="close" onclick="hide('ovScore')">Fermer</button></div>
<div style="display:grid;gap:14px">
<div><div style="display:flex;justify-content:space-between;font-weight:900;margin-bottom:6px">% Comptes qualifiés 100% <span>62%</span></div><div class="pbar"><div class="pfill" style="width:62%"></div></div></div>
<div><div style="display:flex;justify-content:space-between;font-weight:900;margin-bottom:6px">% Comptes MAJ (12m) <span>72%</span></div><div class="pbar"><div class="pfill" style="width:72%"></div></div></div>
<div><div style="display:flex;justify-content:space-between;font-weight:900;margin-bottom:6px">Comptes sans doublon <span>96,5%</span></div><div class="pbar"><div class="pfill" style="width:96.5%"></div></div></div>
<div><div style="display:flex;justify-content:space-between;font-weight:900;margin-bottom:6px">% Contacts complets <span>65%</span></div><div class="pbar"><div class="pfill" style="width:65%"></div></div></div>
<div><div style="display:flex;justify-content:space-between;font-weight:900;margin-bottom:6px">% Comptes animés (12m) <span>58%</span></div><div class="pbar"><div class="pfill" style="width:58%"></div></div></div>
</div>
</div>
</div>
<div class="ov" id="ovList" onclick="event.target===this && hide('ovList')">
<div class="panel list">
<div class="head"><h3 id="listTitle">Liste</h3><button class="close" onclick="hide('ovList')">Fermer</button></div>
<div id="listBody"></div>
</div>
</div>
<div class="tip" id="tip"></div>
<script>
document.getElementById('today').textContent=new Date().toLocaleDateString('fr-FR',{weekday:'long',day:'2-digit',month:'long',year:'numeric'});
const comptes=[{nom:"MIKIT",nature:"CMI",type:"CMI",siret:"50054011700032",ip:"IP2",maj:"2025-07-10",visit:"2024-11-29"},{nom:"NEXITY PROMOTION",nature:"MOA",type:"Promoteur",siret:"45303603300254",ip:"IP1",maj:"2025-09-18",visit:"2025-09-05"},{nom:"BET THERMIS",nature:"BET",type:"Thermique",siret:"85331421800012",ip:"IP3",maj:"2023-03-15",visit:"2022-11-03"},{nom:"MAISONS FRANCE",nature:"CMI",type:"CMI",siret:"38254789600123",ip:"IP2",maj:"2025-02-09",visit:"2025-03-01"},{nom:"MOA HABITAT",nature:"MOA",type:"Bailleur",siret:"51987654321098",ip:"IP3",maj:"2021-06-22",visit:"2021-06-22"}];
const doublons=[{c1:"NEXITY PROMOTION",c2:"NEXITY PROMO",siret:"45303603300254"},{c1:"MAISONS FRANCE",c2:"MFC",siret:"38254789600123"}];
function showSection(id){document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));document.querySelectorAll('.sbtn').forEach(b=>b.classList.remove('active'));document.getElementById(id).classList.add('active');event.target.classList.add('active')}
function show(id){document.getElementById(id).classList.add('show')}
function hide(id){document.getElementById(id).classList.remove('show')}
function openScore(){show('ovScore')}
function openList(type){const t=document.getElementById('listTitle');const b=document.getElementById('listBody');if(type==='doublons'){t.textContent='Doublons (35)';b.innerHTML=`<table><thead><tr><th>Compte 1</th><th>Compte 2</th><th>SIRET</th></tr></thead><tbody>${doublons.map(d=>`<tr><td>${d.c1}</td><td>${d.c2}</td><td>${d.siret}</td></tr>`).join('')}</tbody></table>`;show('ovList');return}const mapTitle={actifs:'Comptes actifs (1000)',q_yes:'Qualifiés 100% (620)',q_no:'Non qualifiés (380)',dormants:'Dormants (180)',MOA:'MOA (350)',BET:'BET (420)',CMI:'CMI (230)',an_addr:'Anomalies adresse (42)',an_nat:'Nature manquante (28)',an_typ:'Type manquant (22)',an_sir:'SIRET invalide (28)',animes:'Animés (580)',contacts_actifs:'Contacts actifs (3200)',ct_email:'Email (2816)',ct_mobile:'Mobile (2368)',ct_fonction:'Fonction (2176)',ct_multi:'Multi-comptes (160)',mv_nvx:'Nouveaux comptes (120)',mv_desac:'Désactivés (40)',mv_ct_nvx:'Nouveaux contacts (450)',mv_ct_desac:'Contacts désactivés (280)'};t.textContent=mapTitle[type]||'Liste';let arr=comptes.slice();if(type==='MOA')arr=arr.filter(c=>c.nature==='MOA');if(type==='BET')arr=arr.filter(c=>c.nature==='BET');if(type==='CMI')arr=arr.filter(c=>c.nature==='CMI');if(type==='q_yes')arr=arr.filter((_,i)=>i%2===0);if(type==='q_no')arr=arr.filter((_,i)=>i%2===1);if(type==='dormants')arr=arr.filter(c=>new Date(c.maj)<new Date('2023-01-01'));b.innerHTML=`<table><thead><tr><th>Compte</th><th>Nature</th><th>Type</th><th>SIRET</th><th>IP</th><th>MAJ</th><th>Visite</th></tr></thead><tbody>${arr.map(r=>row(r)).join('')}</tbody></table>`;attachTips();show('ovList')}
function row(c){const res=encodeURIComponent(`${c.nature} • ${c.type} • ${c.siret}\n${c.ip} • MAJ ${c.maj}\nAction: vérifier data`);return`<tr class="r" data-res="${res}"><td>${c.nom}</td><td>${c.nature}</td><td>${c.type}</td><td>${c.siret}</td><td>${c.ip}</td><td>${c.maj}</td><td>${c.visit}</td></tr>`}
function attachTips(){const tip=document.getElementById('tip');document.querySelectorAll('.r').forEach(tr=>{tr.addEventListener('mousemove',e=>{tip.textContent=decodeURIComponent(tr.dataset.res);tip.style.left=(e.pageX+12)+'px';tip.style.top=(e.pageY+12)+'px';tip.style.display='block'});tr.addEventListener('mouseleave',()=>tip.style.display='none')})}
</script>
</body>
</html>
